<form name="confirPasswordForm" role="form" autocomplete="off" [formGroup]="passwordForm">
  <div class="form-group">
    <label class="form-control-label" for="newPassword" mediTranslate="global.form.newpassword.label">New password</label>
    <input
      type="password"
      class="form-control"
      id="newPassword"
      name="newPassword"
      placeholder="{{ 'global.form.newpassword.placeholder' | translate }}"
      formControlName="newPassword"
      data-cy="newPassword"
    />

    <div
      *ngIf="
        passwordForm.get('newPassword')!.invalid && (passwordForm.get('newPassword')!.dirty || passwordForm.get('newPassword')!.touched)
      "
    >
      <small
        class="form-text text-danger"
        *ngIf="passwordForm.get('newPassword')?.errors?.required"
        mediTranslate="global.messages.validate.newpassword.required"
      >
        Your password is required.
      </small>

      <small
        class="form-text text-danger"
        *ngIf="passwordForm.get('newPassword')?.errors?.minlength"
        mediTranslate="global.messages.validate.newpassword.minlength"
      >
        Your password is required to be at least 4 characters.
      </small>

      <small
        class="form-text text-danger"
        *ngIf="passwordForm.get('newPassword')?.errors?.maxlength"
        mediTranslate="global.messages.validate.newpassword.maxlength"
      >
        Your password cannot be longer than 50 characters.
      </small>
    </div>
  </div>

  <div class="form-group">
    <label class="form-control-label" for="confirmPassword" mediTranslate="global.form.confirmpassword.label"
      >New password confirmation</label
    >
    <input
      type="password"
      class="form-control"
      id="confirmPassword"
      name="confirmPassword"
      placeholder="{{ 'global.form.confirmpassword.placeholder' | translate }}"
      formControlName="confirmPassword"
      data-cy="confirmPassword"
      (keyup)="validatePassword()"
    />

    <div
      *ngIf="
        passwordForm.get('confirmPassword')!.invalid &&
        (passwordForm.get('confirmPassword')!.dirty || passwordForm.get('confirmPassword')!.touched)
      "
    >
      <small
        class="form-text text-danger"
        *ngIf="passwordForm.get('confirmPassword')?.errors?.required"
        mediTranslate="global.messages.validate.confirmpassword.required"
      >
        Your confirmation password is required.
      </small>

      <small
        class="form-text text-danger"
        *ngIf="passwordForm.get('confirmPassword')?.errors?.minlength"
        mediTranslate="global.messages.validate.confirmpassword.minlength"
      >
        Your confirmation password is required to be at least 4 characters.
      </small>

      <small
        class="form-text text-danger"
        *ngIf="passwordForm.get('confirmPassword')?.errors?.maxlength"
        mediTranslate="global.messages.validate.confirmpassword.maxlength"
      >
        Your confirmation password cannot be longer than 50 characters.
      </small>
    </div>
  </div>
</form>
