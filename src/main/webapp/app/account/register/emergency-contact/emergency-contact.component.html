<div class="mb-4">
  <h3>Contacto de emergencia</h3>
</div>

<form name="emergencyContactForm" role="form" autocomplete="off" [formGroup]="emergencyContactForm">

<!-- Name -->
<div class="form-group">
  <label class="form-control-label" for="name" mediTranslate="global.form.name.label">Nombre</label>
  <input type="text" class="form-control" id="name" name="name"
    placeholder="{{ 'global.form.name.placeholder' | translate }}" formControlName="name" data-cy="name"
    #login />

  <div
    *ngIf="emergencyContactForm.get('name')!.invalid && (emergencyContactForm.get('name')!.dirty || emergencyContactForm.get('name')!.touched)">
    <small class="form-text text-danger" *ngIf="emergencyContactForm.get('name')?.errors?.required"
      mediTranslate="register.messages.validate.login.required">
      Your name is required.
    </small>

    <small class="form-text text-danger" *ngIf="emergencyContactForm.get('name')?.errors?.minlength"
      mediTranslate="register.messages.validate.login.minlength">
      Your name is required to be at least 1 character.
    </small>

    <small class="form-text text-danger" *ngIf="emergencyContactForm.get('name')?.errors?.maxlength"
      mediTranslate="register.messages.validate.login.maxlength">
      Your username cannot be longer than 50 characters.
    </small>

    <small class="form-text text-danger" *ngIf="emergencyContactForm.get('name')?.errors?.pattern"
      mediTranslate="register.messages.validate.login.pattern">
      Your name can only contain letters and digits.
    </small>
  </div>
</div>

<!-- Lastname -->
<div class="form-group">
  <label class="form-control-label" for="lastname" mediTranslate="global.form.lastname.label">Apellido</label>
  <input type="text" class="form-control" id="name" name="name"
    placeholder="{{ 'global.form.lastname.placeholder' | translate }}" formControlName="lastname"
    data-cy="lastname" #login />

  <div
    *ngIf="emergencyContactForm.get('lastname')!.invalid && (emergencyContactForm.get('lastname')!.dirty || emergencyContactForm.get('lastname')!.touched)">
    <small class="form-text text-danger" *ngIf="emergencyContactForm.get('lastname')?.errors?.required"
      mediTranslate="register.messages.validate.login.required">
      Your name is required.
    </small>

    <small class="form-text text-danger" *ngIf="emergencyContactForm.get('name')?.errors?.minlength"
      mediTranslate="register.messages.validate.login.minlength">
      Your lastname is required to be at least 1 character.
    </small>

    <small class="form-text text-danger" *ngIf="emergencyContactForm.get('name')?.errors?.maxlength"
      mediTranslate="register.messages.validate.login.maxlength">
      Your lastname cannot be longer than 50 characters.
    </small>

    <small class="form-text text-danger" *ngIf="emergencyContactForm.get('name')?.errors?.pattern"
      mediTranslate="register.messages.validate.login.pattern">
      Your lastname can only contain letters and digits.
    </small>
  </div>
</div>

<!-- second Lastname -->
<div class="form-group">
  <label class="form-control-label" for="secondLastname"
    mediTranslate="global.form.secondlastname.label">Segundo apellido</label>
  <input type="text" class="form-control" id="secondlastname" name="secondlastname"
    placeholder="{{ 'global.form.secondlastname.placeholder' | translate }}" formControlName="secondlastname"
    data-cy="secondlastname" />

  <div
    *ngIf="emergencyContactForm.get('lastname')!.invalid && (emergencyContactForm.get('lastname')!.dirty || emergencyContactForm.get('lastname')!.touched)">
    <small class="form-text text-danger" *ngIf="emergencyContactForm.get('lastname')?.errors?.required"
      mediTranslate="register.messages.validate.login.required">
      Your name is required.
    </small>

    <small class="form-text text-danger" *ngIf="emergencyContactForm.get('name')?.errors?.minlength"
      mediTranslate="register.messages.validate.login.minlength">
      Your lastname is required to be at least 1 character.
    </small>

    <small class="form-text text-danger" *ngIf="emergencyContactForm.get('name')?.errors?.maxlength"
      mediTranslate="register.messages.validate.login.maxlength">
      Your lastname cannot be longer than 50 characters.
    </small>

    <small class="form-text text-danger" *ngIf="emergencyContactForm.get('name')?.errors?.pattern"
      mediTranslate="register.messages.validate.login.pattern">
      Your lastname can only contain letters and digits.
    </small>
  </div>
</div>

<!-- phone -->
<div class="form-group">
  <label class="form-control-label" for="phone" mediTranslate="global.form.lastname.label">Teléfono</label>
  <input type="text" class="form-control" id="phone" name="phone"
    placeholder="{{ 'global.form.phone.placeholder' | translate }}" formControlName="phone" data-cy="phone" />

  <div
    *ngIf="emergencyContactForm.get('lastname')!.invalid && (emergencyContactForm.get('lastname')!.dirty || emergencyContactForm.get('lastname')!.touched)">
    <small class="form-text text-danger" *ngIf="emergencyContactForm.get('lastname')?.errors?.required"
      mediTranslate="register.messages.validate.login.required">
      Your name is required.
    </small>

    <small class="form-text text-danger" *ngIf="emergencyContactForm.get('name')?.errors?.minlength"
      mediTranslate="register.messages.validate.login.minlength">
      Your lastname is required to be at least 1 character.
    </small>

    <small class="form-text text-danger" *ngIf="emergencyContactForm.get('name')?.errors?.maxlength"
      mediTranslate="register.messages.validate.login.maxlength">
      Your lastname cannot be longer than 50 characters.
    </small>

    <small class="form-text text-danger" *ngIf="emergencyContactForm.get('name')?.errors?.pattern"
      mediTranslate="register.messages.validate.login.pattern">
      Your lastname can only contain letters and digits.
    </small>
  </div>
</div>

<!-- email -->
<div class="form-group">
  <label class="form-control-label" for="email" mediTranslate="global.form.email.label">Correo
    electrónico</label>
  <input type="email" class="form-control" id="email" name="email"
    placeholder="{{ 'global.form.email.placeholder' | translate }}" formControlName="email" data-cy="email" />

  <div
    *ngIf="emergencyContactForm.get('email')!.invalid && (emergencyContactForm.get('email')!.dirty || emergencyContactForm.get('email')!.touched)">
    <small class="form-text text-danger" *ngIf="emergencyContactForm.get('email')?.errors?.required"
      mediTranslate="global.messages.validate.email.required">
      Your email is required.
    </small>

    <small class="form-text text-danger" *ngIf="emergencyContactForm.get('email')?.errors?.invalid"
      mediTranslate="global.messages.validate.email.invalid">
      Your email is invalid.
    </small>

    <small class="form-text text-danger" *ngIf="emergencyContactForm.get('email')?.errors?.minlength"
      mediTranslate="global.messages.validate.email.minlength">
      Your email is required to be at least 5 characters.
    </small>

    <small class="form-text text-danger" *ngIf="emergencyContactForm.get('email')?.errors?.maxlength"
      mediTranslate="global.messages.validate.email.maxlength">
      Your email cannot be longer than 100 characters.
    </small>
  </div>
</div>

<!-- relationship -->
<div class="form-group">
    <label class="form-control-label" for="relationship" mediTranslate="global.form.relationship.label">Parentesco</label>
    <input 
        type="text" 
        class="form-control" 
        id="relationship" 
        name="relationship" 
        formControlName="relationship" 
        data-cy="relationship" 
    />
  
    <div
      *ngIf="emergencyContactForm.get('relationship')!.invalid && (emergencyContactForm.get('relationship')!.dirty || emergencyContactForm.get('relationship')!.touched)">
      <small class="form-text text-danger" *ngIf="emergencyContactForm.get('relationship')?.errors?.required"
        mediTranslate="global.messages.validate.email.required">
        Your relationship is required.
      </small>
  
      <small class="form-text text-danger" *ngIf="emergencyContactForm.get('relationship')?.errors?.invalid"
        mediTranslate="global.messages.validate.email.invalid">
        Your relationship is invalid.
      </small>
  
      <small class="form-text text-danger" *ngIf="emergencyContactForm.get('relationship')?.errors?.minlength"
        mediTranslate="global.messages.validate.email.minlength">
        Your relationship is required to be at least 5 characters.
      </small>
  
      <small class="form-text text-danger" *ngIf="emergencyContactForm.get('relationship')?.errors?.maxlength"
        mediTranslate="global.messages.validate.email.maxlength">
        Your relationship cannot be longer than 100 characters.
      </small>
    </div>
</div>

</form>